<%= turbo_refreshes_with method: :morph, scroll: :preserve %>

<div class="container py-8">
  <div class="flex items-start flex-wrap gap-8 sm:flex-nowrap w-full">
    <div class="w-full sm:w-1/3">
      <h1 class="my-8" style="view-transition-name: title"><%= @event.name %></h1>
      <%= render "events/about", organisation: @event.organisation %>
    </div>
    <div class="w-full">
      <div id="talks" class="min-w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 h-full sm:p-4">
        <% @talks.each do |talk| %>
          <%= render partial: "talks/card",
                locals: {
                  talk: talk,
                  favoritable: true,
                  user_favorite_talks_ids: @user_favorite_talks_ids,
                  back_to: request.fullpath,
                  back_to_title: @event.name
                } %>
        <% end %>
      </div>
      <%== pagy_nav(@pagy) if @pagy.pages > 1 %>
    </div>
  </div>
</div>
